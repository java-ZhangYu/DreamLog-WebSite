# DreamLog 项目待办清单

## 数据库设计
- [x] 设计梦境表（dreams）：标题、内容、日期、作者、点赞数、配图等
- [x] 设计点赞表（likes）：用户与梦境的点赞关系
- [x] 设计评论表（comments）：梦境评论内容、作者、时间
- [x] 设计收藏表（favorites）：用户与梦境的收藏关系
- [x] 设计AI分析结果表（dream_analyses）：存储AI生成的梦境分析

## 后端API开发
- [x] 实现梦境CRUD接口：创建、读取、更新、删除梦境
- [x] 实现点赞接口：点赞/取消点赞、获取点赞状态
- [x] 实现评论接口：发表评论、获取评论列表、删除评论
- [x] 实现收藏接口：收藏/取消收藏、获取收藏列表
- [x] 实现梦境列表接口：分页、排序、筛选
- [x] 实现个人主页接口：获取用户发布的梦境和收藏
- [x] 实现AI梦境分析接口：调用LLM分析梦境内容
- [x] 实现AI配图生成接口：根据梦境描述生成图片

## 前端页面开发
- [x] 设计高端杂志风格的全局样式：Didone衬线字体、奶油色背景、精致排版
- [x] 实现首页：展示精选梦境，采用非对称布局和大胆排版
- [x] 实现梦境列表页：瀑布流或网格布局，支持分页加载
- [x] 实现梦境详情页：完整内容展示、点赞评论收藏交互、AI分析结果
- [x] 实现梦境发布/编辑页：富文本编辑器、日期选择、AI配图生成按钮
- [x] 实现个人主页：用户信息、发布的梦境、收藏列表
- [x] 实现用户认证流程：登录/注册入口、OAuth回调处理
- [x] 实现导航栏：Logo、搜索、用户菜单
- [x] 实现响应式设计：适配移动端和桌面端

## AI功能集成
- [x] 集成LLM进行梦境内容分析（象征意义、情感分析、心理学解读）
- [x] 集成图片生成API创建梦境配图
- [x] 优化AI生成的加载状态和错误处理
- [x] 实现AI分析结果的展示组件

## 测试与优化
- [x] 编写核心功能的vitest单元测试
- [x] 测试完整用户流程：注册-发布-浏览-互动
- [x] 测试AI功能的稳定性和响应时间
- [x] 优化页面加载性能和图片加载
- [x] 检查响应式布局在不同设备上的表现

## 部署准备
- [x] 创建项目检查点
- [x] 准备用户使用说明文档

## Bug修复
- [x] 修复所有页面中的嵌套链接错误（<a>不能包含嵌套<a>）
## 新功能：梅境评分和排行榜
- [x] 设计梅境评分表（ratings）：用户评分、评分值、时间戳
- [x] 实现评分API：创建/更新评分、获取梅境平均评分
- [x] 实现排行榜API：按评分排序、按周/月/全时间统计
- [x] 开发排行榜页面：展示热门梅境排行
- [x] 在梅境卡片添加评分显示：展示平均评分和评分数量
- [x] 在梅境详情页添加评分组件：允许用户进行五星评分
- [x] 编写评分功能的单元测试
